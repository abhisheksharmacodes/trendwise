(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{492:(e,t,r)=>{Promise.resolve().then(r.bind(r,628))},628:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(5155),l=r(2115),a=r(3464),o=r(6874),n=r.n(o),i=r(5695),c=r(6766);function u(e){let{initialArticles:t,total:r,initialPage:o=1}=e,[u,d]=(0,l.useState)(t),[h,x]=(0,l.useState)(""),[g,m]=(0,l.useState)(!1),[p,b]=(0,l.useState)(""),[f,w]=(0,l.useState)(o),v=(0,i.useRouter)(),j=(0,i.useSearchParams)(),k=Math.ceil(r/10),y=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;m(!0);try{let r=await a.A.get("".concat("http://localhost:5000","/api/articles"),{params:{search:e,page:t,limit:10}});d(r.data.articles),b("")}catch(e){b("Failed to load articles")}m(!1)},[10,h]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{h?(y(h,1),w(1)):d(t)},300);return()=>clearTimeout(e)},[h,t,y]);let N=e=>{w(e),y(h,e);let t=new URLSearchParams(j.toString());t.set("page",e.toString()),v.push("/?".concat(t.toString()))};return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-8 mt-8",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search articles",value:h,onChange:e=>x(e.target.value),className:"border border-2 rounded-full p-4 pr-18 border-[#00000050] pl-6 w-full md:w-100 bg-white shadow-sm active:border-[#000000cc]"}),h?(0,s.jsx)("button",{type:"button",onClick:()=>x(""),className:"bg-gray-200 cursor-pointer text-gray-600 my-[8px] px-3 -ml-18 rounded-full hover:bg-gray-300 shadow flex items-center justify-center","aria-label":"Clear",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,s.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}):(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 cursor-pointer text-white my-[8px] px-3 -ml-18 rounded-full hover:bg-blue-700 shadow flex items-center justify-center","aria-label":"Search",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})]}),g?(0,s.jsx)("div",{children:"Loading articles..."}):p?(0,s.jsx)("div",{className:"text-red-500",children:p}):(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)("div",{className:"text-gray-600 mb-4",children:0===u.length?(0,s.jsxs)("p",{children:['No articles found for "',h,'"']}):(0,s.jsxs)("p",{children:["Found ",u.length," article",1!==u.length?"s":"",' for "',h,'"']})}),(0,s.jsxs)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[0===u.length&&!h&&(0,s.jsx)("li",{children:"No articles found."}),u.map(e=>{var t,r,l;return(0,s.jsx)("li",{className:"opacity-97 border-[#00000040] border-1 hover:opacity-100 hover:scale-101 bg-white rounded-2xl shadow group cursor-pointer transition hover:shadow-lg",children:(0,s.jsxs)(n(),{href:"/article/".concat(e.slug),className:"block h-full",children:[(null==(l=e.media)||null==(r=l.images)||null==(t=r[0])?void 0:t.url)&&(0,s.jsx)(c.default,{src:e.media.images[0].url,alt:e.media.images[0].alt||e.title,className:"w-full h-56 object-cover rounded-t-2xl",width:400,height:224,priority:!0}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"text-xl font-extrabold text-gray-900 mb-2 leading-tight",children:e.title})})]})},e.slug)})]}),!h&&k>1&&(0,s.jsxs)("div",{className:"flex gap-2 mt-8",children:[(0,s.jsx)("button",{onClick:()=>N(f-1),disabled:1===f,className:"flex items-center justify-center focus:outline-none ".concat(1===f?"text-gray-400":"text-blue-600 hover:text-blue-800 cursor-pointer"),"aria-label":"Previous Page",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Array.from({length:k},(e,t)=>t+1).map(e=>(0,s.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 rounded cursor-pointer ".concat(e===f?"bg-blue-600 text-white":"bg-gray-100"),children:e},e)),(0,s.jsx)("button",{onClick:()=>N(f+1),disabled:f===k,className:"flex items-center justify-center focus:outline-none ".concat(f===k?"text-gray-400":"text-blue-600 hover:text-blue-800 cursor-pointer"),"aria-label":"Next Page",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[259,464,441,684,358],()=>t(492)),_N_E=e.O()}]);